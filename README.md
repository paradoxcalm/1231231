# Проект расписаний

## Режим обслуживания

Для временного отключения модуля расписаний используется флаг `SCHEDULE_ENABLED` в файле [`config.json`](./config.json).

### Отключение
1. Откройте `config.json`.
2. Установите значение флага:
   ```json
   {
     "SCHEDULE_ENABLED": false
   }
   ```
3. Сохраните файл.

После этого при попытке открыть раздел расписаний пользователи увидят сообщение о технических работах, а API `schedule.php` будет возвращать `{ "error": "maintenance" }`.

### Включение
Верните значение `SCHEDULE_ENABLED` в `true` и сохраните файл.

## Логирование расписания

Все сообщения модуля расписаний пишутся в файл [`logs/schedule.log`](./logs/schedule.log).
Чтобы файл не разрастался бесконтрольно, настройте ротацию и очистку:

- используйте `logrotate` или аналогичный механизм; пример конфигурации для Linux:

  ```
  /path/to/project/logs/schedule.log {
      weekly
      rotate 4
      compress
      missingok
      notifempty
      create 0666 www-data www-data
  }
  ```

- либо периодически обнуляйте файл вручную, сохраняя права на запись для процесса веб‑сервера.

Храните только необходимые архивы логов и удаляйте устаревшие файлы, чтобы не переполнять дисковое пространство.
